<html>
<head>
	<title>User Register Page</title>

    <link href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAGvklEQVRYR+1XbWybVxU+974f/ortxk7stPla5i6JNfeDtNpISrcm60oF2taBOhQQPwpiZTCBBlT7Axsd8GdCSKMD0Q0kJKRNarWJDdi6tbT7aJOmNFvSOk0a5qS1ky1xEqeuY7+234+LztXeV7aTpmggTUjcP4l9zj33Oc95zrnXBD7lRT7l8+F/BwBjQP740ydtex7cEBbY9S3FieoOUZJlZFBJX1t0RciZpOGLzs+OJ5WBhVz3wYPav8PuqgzgoZMDzwf8zpadxkR2j0SlHVCUalYLrOsqCD7jPRUKr8ZFxx82dX9hajX/GwKInXi2tVqveVQueHp1BWpILgNCXgHd7gDq9lkx8UCxkAfmdAP+r1weNdDobGyg1F8dL9TP7vdv+fqxG4FYBuDIkb3CZ+UvPeaj3scxWwyqnj8P7HqGGYEAUK0Aji13WvuUwQHGXB5wtocJ+uofxlkxk2XC9AyxN9QRuqUjrTqUF2cyI0+3339gshJIGYBE368c3kL7k3RBetx0zA4PMadMidEaBkGQliWivXMSpHAbsNr6MhsyljvTz8Qd20GSHARkFs/WTPUGu77RV+poAcDMd9fu+0Xp4ejIaypI/K9haIwHK1mVALRri0ySRYIlWbZkFl+o/mBz8/bvLJo2K1hy4HffdCZCvzcNxUSMCeuaiJm1kUnB0jtnDdrSwF0cbWGKttzYKCPZ61ZZjKuTULx0GUSXDKyzcxlg5s8988L43w7s3/+cinE4gFj03abgRGawVOGYWWUALAekrhFpfSOTG0N8LwIz3h8C8a4eDkxVFVZ47e/g7OkipliRvfxkzLC3hDjolDh/oGlP7y8tAKmTf3laTtkPrEYt2laqt5ZOMhiOErJtOy8VAiD9/cQEZJYxe+4c7w5P5zYKa7LxBEx1hHc+ukDOvvZrT8TWMgCL9vZSAEuXLhiUSgTVbQU5dtxw7b6XZ8HRz01DbmiEcXDN6wx3a0RAAMqbp5hjVzcp1QuyUDx5ijk3305QsOmaqV31O/YdJ7MX3+hyXaZnKgWD1BZPnwN9XR1z3NrERZWtAFAq0tL9uBf9cT4UFpJWubCEgsfNsBRKVfJntbu/9gSZO/annziW6p4yg2H7YO2wn9XhS0QNNeiehmYBA96o5fBAHFKlKxefYpBKA84CEt7ITfmBfoBAgGsB2zLhHO8g6T+//oygid/TooOgfrTAwOflilaS07xmjkA9NQOrE+Ogzy2A/c5O3pYIUh+LAdEMgvt0u4PZ0imi2RxgeNcwe33QEiIXaN9bTNiw0fouVRv/vMUAZqGcvwD2tlt5+y2jNLPE1MQ00afmwFZbBblM3nC67ZSsX88guNZq1zIhRweBNreUje5SOwsXv09mo29uc42R07wEOEZHxkDu6eYBMUs2egG0xBywQDUzvF5W5XVzRoprfFaPox+uykmJM0LMKyBs2LAiwELTzFdI9NRvqhqUun4x54lwNX9cCqE9BHpyHtSixrybNtIVJ9vH6WA3KBNxkLZutUCgltLDFwxpKcvZNNVvMSCr88nAdIQbF8b69tqi2SOm0RQgfpZ23WMF5ZnOflRWIq6FixeZGpsiul00cAxLNpFgiaQ6P5E3dxAc4ZSKnIXMeFR3htoEvLKviFfv5gDw3k++/uoPq8D9Y5bTvKZipcb6ssOM2SuQOxtl9monKXh9vP9pMglCbQ2IoVsIilDIK6Qw/k9miDZwbdpcpiVsSeO9IXDcu4vk5eJf/fd98f4yh9TwyxGyaH9M0oo7jUShCWk364pdof5jGMRQC3H5PURTdd6mNHKb1ecmg0g/T6zkQsL9ZPAiNf2zdVe+HPzct15e8UEyeuJZf42/9UFHjDxvBsUu4RmXPEbMgbPSNV2qdvOhIrtdBO8QI7D4Slqc6m3s+oFywxfR4cMPS73hnUdpsvqBsgmzwgfewuOTBpmMUa3KZdhCbUSq85XNACuRwOIrcXvttyN3dM/gd6u+CWPnD3uDxebfwofCVyszQprxUH1klCqJGT60ZF+1NbSKS0tFaY1HEtf6CQkE9Xyd7bT7ntBTJy+/+PZDDx3VrXLdLDt8qPTc/shWSc9upQIVWDFzde7Qifvg/cQ+0HV+oLw2aMg+n3V4ZUwmUjafv9QROXp8qNL2iX4X9O3tdLjm7V3GIgRrQ967Jbnx4dUSyRYWft7y0gtPEAK8c0rXJwJQGgDBBGnokSqX60egyGtLbQWqXVe1zMETPc5D5gvovw7AnCNvfXeHq4XSOxSt9TNO6nErdOSDJHG+cdeho3OrsfMfM3AzDd3M/n8A/wKE/Ew0MmTRPAAAAABJRU5ErkJggg==" rel="icon" type="image/x-icon">
    <link rel="stylesheet" href="css/style.css">
    <script src="src/index.js"></script>
    <title>Mood Tracker</title>

</head>
<body>


	<?php
	//call file to connect server moodtracker
	include ("mood-header.php");
	?>
	
	<?php
	//this query inserts a record in the eleave table
	//has form been submitted
	if($_SERVER['REQUEST_METHOD']== 'POST')
	{
		$error = array ();//initialize an error array
	
	//check for a userPasswordPassword
	if (empty ($_POST['userPassword']))
	{
		$error [] = 'You forgot to the password.';
	}
	else
	{
		$p = mysqli_real_escape_string ($connect, trim($_POST['userPassword']));
	}
	
	//check for userName
	if (empty($_POST ['fullname']))
	{
		$error [] = 'You forgot to enter your name.';
	}
	else
	{
		$n = mysqli_real_escape_string($connect, trim($_POST ['fullname']));
	}
	
	//check for userEmail
	if (empty($_POST ['userEmail']))
	{
		$error [] = 'You forgot to enter your email.';
	}
	else
	{
		$e = mysqli_real_escape_string($connect, trim($_POST ['userEmail']));
	}

	//check for userEmail
	if (empty($_POST ['username']))
	{
		$error [] = 'You forgot to enter your username.';
	}
	else
	{
		$u = mysqli_real_escape_string($connect, trim($_POST ['username']));
	}
	
	//register the admin in the database
	//make the query:
	$q = "INSERT INTO user (userID, userPassword, fullname, userEmail, username)
		VALUES('', '$p', '$n', '$e', '$u')";
	$result = mysqli_query($connect, $q); //run the query
	if($result) //if it runs
	{
		header('location:signin.php');
		exit();
	}
	else
	{
		//if tak run
		//message
		echo '<h1>System error<h1>';
		
		//debugging message
		echo '<p>' .mysqli_error($connect). '<br><br>Query: '.$q. '</p>';
	} //end of it (result)
	mysqli_close($connect); //close the database connection_aborted
	exit();
	} // end of the main submit conditional
	?>

<header>
        <nav class="header__nav">
            <div class="header__logo">
                <a href="moodtracker-1.php"><h4 data-aos="fade-down">Mood Tracker</h4></a>
                <div class="header__logo-overlay"></div>
            </div>

            <ul class="header__menu" data-aos="fade-down">
                <li>
                    <a href="about.php">About Us</a>
                </li>
            </ul>
        </nav>
    </header>
	
	<div class="container">
		<section class="checkout-form">
	<h1 class="heading"><span>Register</span> User</h1>
	<h4>*required field</h4>
	<form action = "signup.php" method = "POST">

	<div class="flex">
		<div class="inputBox">
			<span>Password*:</span> 
			<input type="password" id="userPassword" name="userPassword" size="15" maxlength="60" 
			pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters" required 
			value="<?php if (isset($_POST['userPassword'])) echo $_POST ['userPassword'];?>"> 
		</div>  
	
		<div class="inputBox">
			<span> Full Name*:</span>
			<input type = "text" id = "fullname" name = "fullname" size = "30" maxlength = "50" required
			value = "<?php if (isset($_POST['fullname'])) echo $_POST ['fullname'];?>">
		</div>
	
		<div class="inputBox">
			<span>Email*:</span>
			<input type = "text" pattern = "[a-z0-9._%+-]+@[a-z-9.-]+\.[a-z]{2,}$"
			id = "userEmail" name = "userEmail" size = "30" maxlength = "50" required
			value = "<?php if (isset($_POST['userEmail'])) echo $_POST ['userEmail'];?>">
		</div>

		<div class="inputBox">
			<span>Username*:</span>
			<input type = "text" id = "username" name = "username" size = "30" maxlength = "50" required
			value = "<?php if (isset($_POST['username'])) echo $_POST ['username'];?>">
		</div>
	
	</div>
	<input type="submit" value="Register" class="btn"> 
	<input type="reset" value="Reset" class="btn">
	</form>
</section>

</body>
</html>
	
		
		
	
	
		
		
	